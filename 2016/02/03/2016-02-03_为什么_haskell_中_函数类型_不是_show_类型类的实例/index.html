<!doctype html><html lang=zh-cn><head><title>ä¸ºä»€ä¹ˆ Haskell ä¸­ å‡½æ•°ç±»å‹ ä¸æ˜¯ â€œShowâ€ ç±»å‹ç±»çš„å®ä¾‹ // ä¸æ˜¯è¿½é£å°‘å¹´</title><link rel="shortcut icon" href=/favicon.ico><meta charset=utf-8><meta name=generator content="Hugo 0.104.3"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="bef0rewind"><meta name=description content><link rel=stylesheet href=https://blog.formalscience.com/css/main.min.7399fa7ec2205ae468fae43bdd5857841a2cd7eb35f0c8562b0e111b9d44c95f.css><link rel=stylesheet href=/css/style.css><script src=/javascripts/audio-player.js></script><meta name=twitter:card content="summary"><meta name=twitter:title content="ä¸ºä»€ä¹ˆ Haskell ä¸­ å‡½æ•°ç±»å‹ ä¸æ˜¯ â€œShowâ€ ç±»å‹ç±»çš„å®ä¾‹"><meta name=twitter:description content="é—®é¢˜ ä¸ºä»€ä¹ˆå‡½æ•°ç±»å‹ä¸æ˜¯ show ç±»å‹ç±»çš„å®ä¾‹ä»¥æ˜¾ç¤ºå‚æ•°å’Œå€¼çš„ç±»å‹ï¼Ÿ
ä¸ºä»€ä¹ˆæˆ‘ä¸èƒ½åœ¨ GHCi æˆ–è€… Hugs ä¸­è¾“å…¥ \x -&amp;gt; x + x ï¼Œåœ¨ç»“æœä¸­çœ‹åˆ°åŒæ ·çš„è¡¨è¾¾å¼å½¢å¼ä½œä¸ºè¾“å‡ºã€‚
ä¸ºä»€ä¹ˆå­˜åœ¨ä¸€ä¸ª Show å®ä¾‹ï¼Œå´åªæ‰“å°å‡½æ•°çš„ç±»å‹ï¼Ÿ
Prelude&amp;gt; :m + Text.Show.Functions Prelude Text.Show.Functions&amp;gt; show Char.ord &#34;&amp;lt;function&amp;gt;&#34; `</pre> å¦‚ä½•è®© lambdabot æœ‰å¦‚ä¸‹æ˜¾ç¤ºï¼š <pre>`dons &amp;gt; ord lambdabot&amp;gt; &amp;lt;Char -&amp;gt; Int&amp;gt; `</pre> # ç­”æ¡ˆ ## å®è·µä¸­çš„ç­”æ¡ˆ Haskell ç¼–è¯‘å™¨å¹¶ä¸ä¿æŒè¡¨è¾¾å¼åŸæœ¬çš„å½¢å¼ï¼Œè€Œæ˜¯å°†å®ƒä»¬è½¬æˆæœºå™¨ä»£ç æˆ–è€…å…¶ä»–çš„åº•å±‚è¡¨ç¤ºã€‚ å‡½æ•° `\x -&amp;gt; x - x + x :: Int -&amp;gt; Int` ä¹Ÿè®¸è¢«ä¼˜åŒ–æˆ `\x -&amp;gt; x :: Int -&amp;gt; Int` ã€‚æ²¡æœ‰é‚£ä¸ªåœ°æ–¹lå­˜å‚¨äº†å˜é‡å `x` ã€‚ ä½ ä¹Ÿè®¸ä¼šæƒ³ï¼ŒHaskell æ˜¯ä¸€é—¨è„šæœ¬è¯­è¨€ï¼Œåœ¨è¿è¡Œæ—¶ç¯å¢ƒä¸­ç»´æŠ¤ç€è¡¨è¾¾å¼çš„å†…å®¹ã€‚æƒ…å†µå¹¶éå¦‚æ­¤ï¼Œ[Lambda è¡¨è¾¾å¼](https://wiki."><meta property="og:title" content="ä¸ºä»€ä¹ˆ Haskell ä¸­ å‡½æ•°ç±»å‹ ä¸æ˜¯ â€œShowâ€ ç±»å‹ç±»çš„å®ä¾‹"><meta property="og:description" content="é—®é¢˜ ä¸ºä»€ä¹ˆå‡½æ•°ç±»å‹ä¸æ˜¯ show ç±»å‹ç±»çš„å®ä¾‹ä»¥æ˜¾ç¤ºå‚æ•°å’Œå€¼çš„ç±»å‹ï¼Ÿ
ä¸ºä»€ä¹ˆæˆ‘ä¸èƒ½åœ¨ GHCi æˆ–è€… Hugs ä¸­è¾“å…¥ \x -&amp;gt; x + x ï¼Œåœ¨ç»“æœä¸­çœ‹åˆ°åŒæ ·çš„è¡¨è¾¾å¼å½¢å¼ä½œä¸ºè¾“å‡ºã€‚
ä¸ºä»€ä¹ˆå­˜åœ¨ä¸€ä¸ª Show å®ä¾‹ï¼Œå´åªæ‰“å°å‡½æ•°çš„ç±»å‹ï¼Ÿ
Prelude&amp;gt; :m + Text.Show.Functions Prelude Text.Show.Functions&amp;gt; show Char.ord &#34;&amp;lt;function&amp;gt;&#34; `</pre> å¦‚ä½•è®© lambdabot æœ‰å¦‚ä¸‹æ˜¾ç¤ºï¼š <pre>`dons &amp;gt; ord lambdabot&amp;gt; &amp;lt;Char -&amp;gt; Int&amp;gt; `</pre> # ç­”æ¡ˆ ## å®è·µä¸­çš„ç­”æ¡ˆ Haskell ç¼–è¯‘å™¨å¹¶ä¸ä¿æŒè¡¨è¾¾å¼åŸæœ¬çš„å½¢å¼ï¼Œè€Œæ˜¯å°†å®ƒä»¬è½¬æˆæœºå™¨ä»£ç æˆ–è€…å…¶ä»–çš„åº•å±‚è¡¨ç¤ºã€‚ å‡½æ•° `\x -&amp;gt; x - x + x :: Int -&amp;gt; Int` ä¹Ÿè®¸è¢«ä¼˜åŒ–æˆ `\x -&amp;gt; x :: Int -&amp;gt; Int` ã€‚æ²¡æœ‰é‚£ä¸ªåœ°æ–¹lå­˜å‚¨äº†å˜é‡å `x` ã€‚ ä½ ä¹Ÿè®¸ä¼šæƒ³ï¼ŒHaskell æ˜¯ä¸€é—¨è„šæœ¬è¯­è¨€ï¼Œåœ¨è¿è¡Œæ—¶ç¯å¢ƒä¸­ç»´æŠ¤ç€è¡¨è¾¾å¼çš„å†…å®¹ã€‚æƒ…å†µå¹¶éå¦‚æ­¤ï¼Œ[Lambda è¡¨è¾¾å¼](https://wiki."><meta property="og:type" content="article"><meta property="og:url" content="https://blog.formalscience.com/2016/02/03/2016-02-03_%E4%B8%BA%E4%BB%80%E4%B9%88_haskell_%E4%B8%AD_%E5%87%BD%E6%95%B0%E7%B1%BB%E5%9E%8B_%E4%B8%8D%E6%98%AF_show_%E7%B1%BB%E5%9E%8B%E7%B1%BB%E7%9A%84%E5%AE%9E%E4%BE%8B/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2016-02-03T10:01:41+00:00"><meta property="article:modified_time" content="2016-02-03T10:01:41+00:00"></head><body><header class=app-header><a href=https://blog.formalscience.com/><img class=app-header-avatar src=/avatar.jpg alt=bef0rewind></a>
<span class=app-header-title>ä¸æ˜¯è¿½é£å°‘å¹´</span><nav class=app-header-menu><a class=app-header-menu-item href=/>Home</a>
ğŸ˜Š<br><a class=app-header-menu-item href=/posts>Blogs</a>
ğŸ˜Š<br><a class=app-header-menu-item href=/douban>è±†ç“£æ–‡ç« å¤‡ä»½</a>
ğŸ˜Š<br><a class=app-header-menu-item href=/wechat-blogs>å¾®ä¿¡å…¬ä¼—å·</a>
ğŸ˜Š<br><a class=app-header-menu-item href=/categories/>Categories</a>
ğŸ˜Š<br><a class=app-header-menu-item href=/tags/>Tags</a>
ğŸ˜Š<br><a class=app-header-menu-item href=/about/>About</a>
ğŸ˜Š<br><a class=app-header-menu-item href=/feed.xml>RSS</a></nav><p>å½“ä½ åœ¨è¿½ç€é£ï¼Œé£ä¹Ÿåœ¨æ¨ç€ä½ </p><div class=app-header-social><a href=https://github.com/ronhuafeng target=_blank rel="noreferrer noopener me"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-github"><title>æˆ‘çš„ GitHub</title><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></a></div></header><main class=app-container><article class=post><header class=post-header><h1 class=post-title>ä¸ºä»€ä¹ˆ Haskell ä¸­ å‡½æ•°ç±»å‹ ä¸æ˜¯ â€œShowâ€ ç±»å‹ç±»çš„å®ä¾‹</h1><div class=post-meta><div><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-calendar"><title>calendar</title><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>Feb 3, 2016</div><div><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-clock"><title>clock</title><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>1 min read</div></div></header><div class=post-content><h1 id=é—®é¢˜>é—®é¢˜</h1><p>ä¸ºä»€ä¹ˆå‡½æ•°ç±»å‹ä¸æ˜¯ <code>show</code> ç±»å‹ç±»çš„å®ä¾‹ä»¥æ˜¾ç¤ºå‚æ•°å’Œå€¼çš„ç±»å‹ï¼Ÿ</p><p>ä¸ºä»€ä¹ˆæˆ‘ä¸èƒ½åœ¨ GHCi æˆ–è€… Hugs ä¸­è¾“å…¥ <code>\x -&amp;gt; x + x</code> ï¼Œåœ¨ç»“æœä¸­çœ‹åˆ°åŒæ ·çš„è¡¨è¾¾å¼å½¢å¼ä½œä¸ºè¾“å‡ºã€‚</p><p>ä¸ºä»€ä¹ˆå­˜åœ¨ä¸€ä¸ª Show å®ä¾‹ï¼Œå´åªæ‰“å°å‡½æ•°çš„ç±»å‹ï¼Ÿ</p><pre><code>Prelude&amp;gt; :m + Text.Show.Functions
Prelude Text.Show.Functions&amp;gt; show Char.ord
&quot;&amp;lt;function&amp;gt;&quot;
`&lt;/pre&gt;

å¦‚ä½•è®© lambdabot æœ‰å¦‚ä¸‹æ˜¾ç¤ºï¼š

&lt;pre&gt;`dons &amp;gt; ord
lambdabot&amp;gt;  &amp;lt;Char -&amp;gt; Int&amp;gt;
`&lt;/pre&gt;

# ç­”æ¡ˆ

## å®è·µä¸­çš„ç­”æ¡ˆ

Haskell ç¼–è¯‘å™¨å¹¶ä¸ä¿æŒè¡¨è¾¾å¼åŸæœ¬çš„å½¢å¼ï¼Œè€Œæ˜¯å°†å®ƒä»¬è½¬æˆæœºå™¨ä»£ç æˆ–è€…å…¶ä»–çš„åº•å±‚è¡¨ç¤ºã€‚

å‡½æ•° `\x -&amp;gt; x - x + x :: Int -&amp;gt; Int` ä¹Ÿè®¸è¢«ä¼˜åŒ–æˆ `\x -&amp;gt; x :: Int -&amp;gt; Int` ã€‚æ²¡æœ‰é‚£ä¸ªåœ°æ–¹lå­˜å‚¨äº†å˜é‡å `x` ã€‚

ä½ ä¹Ÿè®¸ä¼šæƒ³ï¼ŒHaskell æ˜¯ä¸€é—¨è„šæœ¬è¯­è¨€ï¼Œåœ¨è¿è¡Œæ—¶ç¯å¢ƒä¸­ç»´æŠ¤ç€è¡¨è¾¾å¼çš„å†…å®¹ã€‚æƒ…å†µå¹¶éå¦‚æ­¤ï¼Œ[Lambda è¡¨è¾¾å¼](https://wiki.haskell.org/Lambda_abstraction)ä»…ä»…æ˜¯[åŒ¿åå‡½æ•°](https://wiki.haskell.org/Anonymous_function)ã€‚ä½ æ²¡å¯èƒ½åœ¨è¿è¡Œæ—¶ç¯å¢ƒä¸­æŸ¥è¯¢å˜é‡çš„åå­—ï¼Œæˆ–è€…è§‚å¯Ÿå‡½æ•°å®šä¹‰çš„ç»“æ„ã€‚ä½ ä¹Ÿä¸èƒ½ä»ç¨‹åºå‘˜ç”¨æˆ·é‚£é‡Œæ¥æ”¶ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œè°ƒç”¨ä½ ç¨‹åºä¸­çš„å˜é‡ï¼Œç„¶åæ±‚å€¼ã€‚å³ï¼ŒHaskell ä¸æ˜¯[åå°„çš„](https://wiki.haskell.org/index.php?title=Reflexive_language&amp;amp;action=edit&amp;amp;redlink=1 &quot;Reflexive_language&amp;amp;action=edit&amp;amp;redlink=1&quot;)ã€‚ä¸€åˆ‡éƒ½æ˜¯å¯ç¼–è¯‘çš„ã€‚ä¸€ä¸ªä¾‹å¤–æ˜¯ [hs-plugins](https://wiki.haskell.org/index.php?title=Hs-plugins&amp;amp;action=edit&amp;amp;redlink=1 &quot;Hs-plugins&amp;amp;action=edit&amp;amp;redlink=1&quot;)

## ç†è®ºä¸Šçš„ç­”æ¡ˆ

å‡½æ•°å¼ç¼–ç¨‹æ˜¯å…³äºå‡½æ•°çš„ã€‚ä¸€ä¸ªæ•°å­¦å‡½æ•°æ˜¯ç”±å®ƒçš„å›¾é€šè¿‡äºŒå…ƒç»„ï¼ˆå‚æ•°ï¼Œå€¼ï¼‰å®Œå…¨å®šä¹‰çš„ã€‚å³ï¼š
- ![\sqrt{\ } = &amp;#123;(0,0), (1,1), (4,2), (9,3), \dots &amp;#125;](https://wiki.haskell.org/wikiupload/math/7/a/9/7a95d49d189193b2987374c4bcd3d186.png)
- ![ (\lambda x.\ x+x) = &amp;#123;(0,0), (1,2), (2,4), (3,6), \dots &amp;#125; ](https://wiki.haskell.org/wikiupload/math/e/a/f/eaf7cde16e0aa626caa2b0365e0a79b1.png)

æ—¢ç„¶å›¾ ![ \mathrm{show}(\lambda x.\ x+x) \ne \mathrm{show}(\lambda x.\ 2\cdot x) ](https://wiki.haskell.org/wikiupload/math/5/3/e/53ef58b99d9d9b4a63006980946855b9.png) å’Œ ![ \lambda x.\ 2\cdot x ](https://wiki.haskell.org/wikiupload/math/e/3/8/e38a5466b5a1b4d3c8339d700ac9d939.png) æ˜¯ç­‰ä»·çš„ï¼Œå› ä¸ºå®ƒä»¬éƒ½è¡¨ç¤ºäº†åŒæ ·çš„å‡½æ•°ã€‚æƒ³è±¡ä¸€ä¸‹å¦‚æœä¸¤ä¸ªé¡¹éƒ½æŒ‰ç…§å…¶å½¢å¼è¢« GHCi æˆ– Hugs æ˜¾ç¤ºï¼Œè¿™å°±æ„å‘³ç€ç­‰ä»·çš„å‡½æ•°å¯¼è‡´äº†ä¸åŒçš„è¾“å‡ºã€‚äº¤äº’å¼çš„ Haskell ç¯å¢ƒä½¿ç”¨é€šå¸¸çš„ `show` å‡½æ•°ï¼Œè¿™ä¹Ÿæ„å‘³ç€ ![ \mathrm{show}(\lambda x.\ x+x) \ne \mathrm{show}(\lambda x.\ 2\cdot x) ](https://wiki.haskell.org/wikiupload/math/d/2/1/d21e1b708260732dd43095f9f7b1c881.png) ã€‚è¿™å°†æ‰“ç ´[å¼•ç”¨é€æ˜](https://wiki.haskell.org/Referential_transparency)ã€‚è¿™ä¹Ÿæ„å‘³ç€æ˜¾ç¤ºå‡½æ•°çš„å”¯ä¸€å¯è¡Œæ–¹å¼æ˜¯æ˜¾ç¤ºå®šä¹‰å®ƒä»¬çš„å›¾ï¼š

&lt;pre&gt;`Prelude&amp;gt; \x -&amp;gt; x+x
functionFromGraph [(0,0), (1,2), (2,4), (3,6),
Interrupted.
</code></pre><p>èƒ½å¤Ÿå®ç°è¿™ä¸ªåŠŸèƒ½çš„ä»£ç åœ¨ <a href=http://hackage.haskell.org/package/universe-reverse-instances>universe-reverse-instances</a> åŒ…ä¸­æœ‰ã€‚ï¼ˆè¿™ä¸ªåŒ…åœ¨å®‰è£… <a href=http://hackage.haskell.org/package/universe>universe</a> åŒ…æ—¶ä¼šè¢«å®‰è£…ï¼‰</p><h1 id=å¼•ç”¨>å¼•ç”¨</h1><p><a href=https://wiki.haskell.org/Show_instance_for_functions>https://wiki.haskell.org/Show_instance_for_functions</a>
<a href=http://www.haskell.org/pipermail/haskell-cafe/2006-April/015161.html>http://www.haskell.org/pipermail/haskell-cafe/2006-April/015161.html</a></p></div></article></main></body></html>