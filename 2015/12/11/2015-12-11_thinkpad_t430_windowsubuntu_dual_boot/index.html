<!doctype html><html lang=zh-cn><head><title>Thinkpad T430 Windows&Ubuntu Dual Boot // ä¸æ˜¯è¿½é£å°‘å¹´</title><link rel="shortcut icon" href=/favicon.ico><meta charset=utf-8><meta name=generator content="Hugo 0.104.3"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="bef0rewind"><meta name=description content><link rel=stylesheet href=https://blog.formalscience.com/css/main.min.7399fa7ec2205ae468fae43bdd5857841a2cd7eb35f0c8562b0e111b9d44c95f.css><link rel=stylesheet href=/css/style.css><script src=/javascripts/audio-player.js></script><meta name=twitter:card content="summary"><meta name=twitter:title content="Thinkpad T430 Windows&Ubuntu Dual Boot"><meta name=twitter:description content="åœ¨ Thinkpad T430 å¸¦æœ‰åŸè£…æ“ä½œç³»ç»Ÿï¼ˆå…¶å®æ˜¯åŸå£°çš„ EFI åˆ†åŒºï¼‰çš„æƒ…å½¢ä¸‹ï¼ŒUEFI æ¨¡å¼ä¸‹å®‰è£… Ubuntu å¹¶æˆåŠŸå¯åŠ¨è¿›å…¥ Ubuntu ç³»ç»Ÿã€‚ä¸»è¦éš¾åº¦æ˜¯åŸè£…ç”µè„‘å¯åŠ¨æ—¶ä¼šé¦–å…ˆåŠ è½½ä¸€ä¸ª â€œLenovoBT.efiâ€ çš„æ–‡ä»¶ï¼Œç„¶å Lenovo ç›´æ¥ä¼šå»æ‰¾ Windows ç³»ç»Ÿç›¸å…³çš„ efi æ–‡ä»¶ï¼Œç„¶åå¿½ç•¥å…¶ä»–çš„ç³»ç»Ÿã€‚T440s é¢„è£…win8.1 GPT+EFI ubuntu åŒç³»ç»Ÿ å›¾æ–‡è¿‡ç¨‹ä¸­æåˆ°è¿™æ ·çš„å¯åŠ¨å¤„ç†ï¼š
åŠ è½½ /EFI/Boot/LenovoBT.EFI /EFI/Boot/bootx64.efiï¼ŒåŠ è½½windowsçš„boot loader /boot/efi/EFI/Microsoft/Boot/bootmgfw.efiï¼Œå¯åŠ¨windows å› æ­¤è¿™ä¸ªæ–‡æ¡£è®°å½•äº†å¦‚ä½•æŠŠè¿™ä¸ªæµç¨‹ç»™æˆªæ–­ï¼Œä½¿å¾— Ubuntu çš„å¯åŠ¨å¼•å¯¼æ–‡ä»¶å¯ä»¥è¢«çœ‹åˆ°ã€‚
é¦–å…ˆè¯´æ˜æ²¡æœ‰èµ·ä½œç”¨çš„æ•™ç¨‹ï¼š
Windows 10 Pro + Ubuntu 14.04.3 LTS é›™ç³»çµ±å®‰è£ ä¸­æåˆ°æœ€ååœ¨ Windows çš„å‘½ä»¤è¡Œä¸­ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ bcdedit /set {bootmgr} path \EFI\ubuntu\grubx64.efi å¹¶æ²¡æœ‰ç”Ÿæ•ˆ ç™¾åº¦è´´å§ä¸€ä¸ªæ•™ç¨‹ - T440s é¢„è£…win8.1 GPT+EFI ubuntu åŒç³»ç»Ÿ å›¾æ–‡è¿‡ç¨‹ ä¸­æåˆ°ä½¿ç”¨ Ubuntu çš„å¼•å¯¼æ–‡ä»¶ â€œgrubx64.efiâ€ æ›¿æ¢ â€œEFI/Bootâ€ é‡Œé¢çš„ â€œbootx64.efiâ€ï¼Œæ²¡æœ‰æ•ˆæœï¼Œå¯èƒ½æ˜¯ â€œLenovoBT.efiâ€ æ²¡æœ‰èµ°å‰æ–‡æåˆ°çš„å¤„ç†æµç¨‹ã€‚ æœ‰æ•ˆçš„æ•™ç¨‹ Windows 8 removes Grub as default boot managerï¼š"><meta property="og:title" content="Thinkpad T430 Windows&Ubuntu Dual Boot"><meta property="og:description" content="åœ¨ Thinkpad T430 å¸¦æœ‰åŸè£…æ“ä½œç³»ç»Ÿï¼ˆå…¶å®æ˜¯åŸå£°çš„ EFI åˆ†åŒºï¼‰çš„æƒ…å½¢ä¸‹ï¼ŒUEFI æ¨¡å¼ä¸‹å®‰è£… Ubuntu å¹¶æˆåŠŸå¯åŠ¨è¿›å…¥ Ubuntu ç³»ç»Ÿã€‚ä¸»è¦éš¾åº¦æ˜¯åŸè£…ç”µè„‘å¯åŠ¨æ—¶ä¼šé¦–å…ˆåŠ è½½ä¸€ä¸ª â€œLenovoBT.efiâ€ çš„æ–‡ä»¶ï¼Œç„¶å Lenovo ç›´æ¥ä¼šå»æ‰¾ Windows ç³»ç»Ÿç›¸å…³çš„ efi æ–‡ä»¶ï¼Œç„¶åå¿½ç•¥å…¶ä»–çš„ç³»ç»Ÿã€‚T440s é¢„è£…win8.1 GPT+EFI ubuntu åŒç³»ç»Ÿ å›¾æ–‡è¿‡ç¨‹ä¸­æåˆ°è¿™æ ·çš„å¯åŠ¨å¤„ç†ï¼š
åŠ è½½ /EFI/Boot/LenovoBT.EFI /EFI/Boot/bootx64.efiï¼ŒåŠ è½½windowsçš„boot loader /boot/efi/EFI/Microsoft/Boot/bootmgfw.efiï¼Œå¯åŠ¨windows å› æ­¤è¿™ä¸ªæ–‡æ¡£è®°å½•äº†å¦‚ä½•æŠŠè¿™ä¸ªæµç¨‹ç»™æˆªæ–­ï¼Œä½¿å¾— Ubuntu çš„å¯åŠ¨å¼•å¯¼æ–‡ä»¶å¯ä»¥è¢«çœ‹åˆ°ã€‚
é¦–å…ˆè¯´æ˜æ²¡æœ‰èµ·ä½œç”¨çš„æ•™ç¨‹ï¼š
Windows 10 Pro + Ubuntu 14.04.3 LTS é›™ç³»çµ±å®‰è£ ä¸­æåˆ°æœ€ååœ¨ Windows çš„å‘½ä»¤è¡Œä¸­ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ bcdedit /set {bootmgr} path \EFI\ubuntu\grubx64.efi å¹¶æ²¡æœ‰ç”Ÿæ•ˆ ç™¾åº¦è´´å§ä¸€ä¸ªæ•™ç¨‹ - T440s é¢„è£…win8.1 GPT+EFI ubuntu åŒç³»ç»Ÿ å›¾æ–‡è¿‡ç¨‹ ä¸­æåˆ°ä½¿ç”¨ Ubuntu çš„å¼•å¯¼æ–‡ä»¶ â€œgrubx64.efiâ€ æ›¿æ¢ â€œEFI/Bootâ€ é‡Œé¢çš„ â€œbootx64.efiâ€ï¼Œæ²¡æœ‰æ•ˆæœï¼Œå¯èƒ½æ˜¯ â€œLenovoBT.efiâ€ æ²¡æœ‰èµ°å‰æ–‡æåˆ°çš„å¤„ç†æµç¨‹ã€‚ æœ‰æ•ˆçš„æ•™ç¨‹ Windows 8 removes Grub as default boot managerï¼š"><meta property="og:type" content="article"><meta property="og:url" content="https://blog.formalscience.com/2015/12/11/2015-12-11_thinkpad_t430_windowsubuntu_dual_boot/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2015-12-11T10:03:56+00:00"><meta property="article:modified_time" content="2015-12-11T10:03:56+00:00"></head><body><header class=app-header><a href=https://blog.formalscience.com/><img class=app-header-avatar src=/avatar.jpg alt=bef0rewind></a>
<span class=app-header-title>ä¸æ˜¯è¿½é£å°‘å¹´</span><nav class=app-header-menu><a class=app-header-menu-item href=/>Home</a>
ğŸ˜Š<br><a class=app-header-menu-item href=/posts>Blogs</a>
ğŸ˜Š<br><a class=app-header-menu-item href=/douban>è±†ç“£æ–‡ç« å¤‡ä»½</a>
ğŸ˜Š<br><a class=app-header-menu-item href=/wechat-blogs>å¾®ä¿¡å…¬ä¼—å·</a>
ğŸ˜Š<br><a class=app-header-menu-item href=/categories/>Categories</a>
ğŸ˜Š<br><a class=app-header-menu-item href=/tags/>Tags</a>
ğŸ˜Š<br><a class=app-header-menu-item href=/about/>About</a>
ğŸ˜Š<br><a class=app-header-menu-item href=/feed.xml>RSS</a></nav><p>å½“ä½ åœ¨è¿½ç€é£ï¼Œé£ä¹Ÿåœ¨æ¨ç€ä½ </p><div class=app-header-social><a href=https://github.com/ronhuafeng target=_blank rel="noreferrer noopener me"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-github"><title>æˆ‘çš„ GitHub</title><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></a></div></header><main class=app-container><article class=post><header class=post-header><h1 class=post-title>Thinkpad T430 Windows&Ubuntu Dual Boot</h1><div class=post-meta><div><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-calendar"><title>calendar</title><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>Dec 11, 2015</div><div><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-clock"><title>clock</title><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>2 min read</div></div></header><div class=post-content><p>åœ¨ Thinkpad T430 å¸¦æœ‰åŸè£…æ“ä½œç³»ç»Ÿï¼ˆå…¶å®æ˜¯åŸå£°çš„ EFI åˆ†åŒºï¼‰çš„æƒ…å½¢ä¸‹ï¼ŒUEFI æ¨¡å¼ä¸‹å®‰è£… Ubuntu å¹¶æˆåŠŸå¯åŠ¨è¿›å…¥ Ubuntu ç³»ç»Ÿã€‚ä¸»è¦éš¾åº¦æ˜¯åŸè£…ç”µè„‘å¯åŠ¨æ—¶ä¼šé¦–å…ˆåŠ è½½ä¸€ä¸ª â€œLenovoBT.efiâ€ çš„æ–‡ä»¶ï¼Œç„¶å Lenovo ç›´æ¥ä¼šå»æ‰¾ Windows ç³»ç»Ÿç›¸å…³çš„ efi æ–‡ä»¶ï¼Œç„¶åå¿½ç•¥å…¶ä»–çš„ç³»ç»Ÿã€‚<a href=http://tieba.baidu.com/p/2805772637>T440s é¢„è£…win8.1 GPT+EFI ubuntu åŒç³»ç»Ÿ å›¾æ–‡è¿‡ç¨‹</a>ä¸­æåˆ°è¿™æ ·çš„å¯åŠ¨å¤„ç†ï¼š</p><ol><li>åŠ è½½ /EFI/Boot/LenovoBT.EFI</li><li>/EFI/Boot/bootx64.efiï¼ŒåŠ è½½windowsçš„boot loader</li><li>/boot/efi/EFI/Microsoft/Boot/bootmgfw.efiï¼Œå¯åŠ¨windows</li></ol><p>å› æ­¤è¿™ä¸ªæ–‡æ¡£è®°å½•äº†å¦‚ä½•æŠŠè¿™ä¸ªæµç¨‹ç»™æˆªæ–­ï¼Œä½¿å¾— Ubuntu çš„å¯åŠ¨å¼•å¯¼æ–‡ä»¶å¯ä»¥è¢«çœ‹åˆ°ã€‚</p><p>é¦–å…ˆè¯´æ˜æ²¡æœ‰èµ·ä½œç”¨çš„æ•™ç¨‹ï¼š</p><ol><li><a href=https://blog.birkhoff.me/windows-10-and-ubuntu-14_04_3-lts-dual-boot/>Windows 10 Pro + Ubuntu 14.04.3 LTS é›™ç³»çµ±å®‰è£</a> ä¸­æåˆ°æœ€ååœ¨ Windows çš„å‘½ä»¤è¡Œä¸­ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ <code>bcdedit /set {bootmgr} path \EFI\ubuntu\grubx64.efi</code> å¹¶æ²¡æœ‰ç”Ÿæ•ˆ</li><li>ç™¾åº¦è´´å§ä¸€ä¸ªæ•™ç¨‹ - <a href=http://tieba.baidu.com/p/2805772637>T440s é¢„è£…win8.1 GPT+EFI ubuntu åŒç³»ç»Ÿ å›¾æ–‡è¿‡ç¨‹</a> ä¸­æåˆ°ä½¿ç”¨ Ubuntu çš„å¼•å¯¼æ–‡ä»¶ â€œgrubx64.efiâ€ æ›¿æ¢ â€œEFI/Bootâ€ é‡Œé¢çš„ â€œbootx64.efiâ€ï¼Œæ²¡æœ‰æ•ˆæœï¼Œå¯èƒ½æ˜¯ â€œLenovoBT.efiâ€ æ²¡æœ‰èµ°å‰æ–‡æåˆ°çš„å¤„ç†æµç¨‹ã€‚</li></ol><hr><p>æœ‰æ•ˆçš„æ•™ç¨‹ <a href=http://askubuntu.com/questions/235567/windows-8-removes-grub-as-default-boot-manager>Windows 8 removes Grub as default boot manager</a>ï¼š</p><p>I can make no promises, but try this from a Windows Command Prompt window launched with Administrator privileges:</p><p><code>bcdedit /set {bootmgr} path \EFI\ubuntu\grubx64.efi</code></p><p>Note that {bootmgr} should be typed exactly; that&rsquo;s not a variable. If that doesn&rsquo;t work, you could try this in Linux:</p><ol><li>Back up the entire contents of /boot/efi (your EFI System Partition, or ESP).</li><li>Type <code>sudo mv /boot/efi/EFI/Microsoft/Boot/bootmgfw.efi /boot/efi/EFI/Microsoft</code>.</li><li>Type <code>cp /boot/efi/EFI/ubuntu/grubx64.efi /boot/efi/EFI/Microsoft/Boot/bootmgfw.efi</code>.</li><li>Create a new /etc/grub.d/40_custom file entry that refers to EFI/Microsoft/bootmgfw.efi. Model it after the existing entry in /boot/grub/grub.cfg that refers to EFI/Microsoft/Boot/bootmgfw.efi; just remove Boot from the boot path and give the entry a new name.</li><li>Type <code>sudo update-grub</code> to install the new GRUB entry.</li></ol><hr><p>ä¸Šé¢çš„æµç¨‹è¿›è¡Œå®Œç¬¬ä¸‰æ­¥å°±è¶³å¤Ÿäº†ã€‚</p><p>å…³é”®æŠ€æœ¯ç‚¹ï¼š</p><ol><li>å…³é—­ Windows çš„â€œå®‰å…¨å¯åŠ¨â€</li><li>CSM Support è¿™ä¸ªå¯ä»¥å¼€å¯ä¹Ÿå¯ä»¥å…³é—­</li><li>UEFI æ¨¡å¼ä¸‹å®‰è£…å¥½ Ubuntu åï¼Œå†æ¬¡ä½¿ç”¨ Live USB è¿›å…¥ UBuntu ç³»ç»Ÿï¼Œå°† Windows çš„ EFI åˆ†åŒºæŒ‚è½½ï¼Œè¿›è¡Œæ–‡ä»¶æ›¿æ¢æ“ä½œ</li><li>è™½ç„¶ä¸æ¨èï¼Œä½†æ˜¯å¯ä»¥åœ¨ <code>sudo update-grub</code> åç›´æ¥ä¿®æ”¹ /boot/grub/grub.cfg ï¼Œå°†å…¶ä¸­çš„ Windows EFI æ–‡ä»¶åœ°å€ä¿®æ­£ä¸ºçœŸæ­£çš„ EFI æ–‡ä»¶æ‰€åœ¨ä½ç½®ï¼ˆæˆ‘çš„æ˜¯ /boot/efi/EFI/Microsoft/bootmgfw.efiï¼‰ã€‚è¿™æ ·åšä¸å¤ªå¥½ï¼Œå› ä¸ºè¿™ä¸ªæ–‡ä»¶æ˜¯ç”¨ /etc/grub.d/ ä¸‹çš„æ–‡ä»¶è‡ªåŠ¨ç”Ÿæˆå‡ºæ¥çš„ï¼Œæ­£ç¡®çš„åšæ³•æ˜¯å»é‚£ä¸ªæ–‡ä»¶å¤¹ä¸‹é¢å¢åŠ æˆ–è€…ä¿®æ”¹ä¸€ä¸ª Entry ã€‚</li></ol></div></article></main></body></html>